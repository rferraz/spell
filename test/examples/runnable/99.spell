import "map"

bottles (number) = 
  ? number == 0 -> "No more bottles"
  ? number == 1 -> "1 bottle"
  ?           _ -> (string number) + " bottles"

verse (number) = 
  ? number == 0 -> "No more bottles of beer on the wall, no more bottles of beer.\nGo to the store and buy some more, 99 bottles of beer on the wall.\n"
  ? number > 0  -> (string (bottles number)) + " of beer on the wall, " + (string (bottles number)) + " of beer.\nTake one down and pass it around, " + (string (bottles (number - 1))) + " of beer on the wall.\n"

main () = map { number | show (verse number) } (range 1 99)

